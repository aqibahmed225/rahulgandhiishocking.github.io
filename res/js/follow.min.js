define(["jquery","custom","common","fuzzy"],(function($,custom,common,Fuse){let follow={},intrestPayload,followData="",selectedTopics=[],allTopics=[],selectedCities=[],allCities=[],selectedAuthors=[],allAuthors=[],topicKeystr="",cityKeystr="",authorKeystr="",page=1,loaded=!1,isOnLoad=!0,allAuthorsData={},authorObject={},authorsData={},selectedAuthorTab="All";const options={isCaseSensitive:!1,includeScore:!0,threshold:.3,tokenize:!0,matchAllTokens:!0,keys:["name"]};let pageName=$("#dataHolder").data("story-section")||"";$.ajax({url:"https://www.hindustantimes.com/static-content/1y/authors-interest.json",dataType:"json",type:"GET",async:!1,success:function(res){allAuthorsData=res.authorsData}});let clientId=common.getCookie("_ht_clientid")||"";if(custom.userToken&&clientId){if($("#alltopics .follow-btn").each((function(){allTopics.push($(this).val())})),$("#allauthors .follow-btn").each((function(){allAuthors.push($(this).data("name"))})),$("#allcities .follow-btn").each((function(){allCities.push($(this).val())})),"home"==pageName){function callbackFun(res){getUserInterestData(clientId,removeSelectedTopic);let allTopics=res.topics||[];function removeSelectedTopic(topicsres){try{if(null!=topicsres.data){let selectedList=topicsres.data.interest.topics;const topicsToDeleteSet=new Set(selectedList),newArr=allTopics.filter(topic=>!topicsToDeleteSet.has(topic.name));let filter;getStaticData({topics:newArr})}}catch{}}}getInterestData(callbackFun)}else getUserInterestData(clientId);function showFollowTabs(evt,cityName){let tabcontent;tabcontent=$(".tabcontent"),$(evt).addClass("active").siblings().removeClass("active"),$(tabcontent).each((function(){this.id==cityName?$("#"+cityName).show():$("#"+this.id).hide()}))}function getUserInterestData(clientId,callback=Function()){$.ajax({url:"https://accounts.hindustantimes.com/v2/user/interest?ref=HT&user_id="+clientId,type:"GET",contentType:"application/json",dataType:"json",beforeSend:function(xhr){xhr.setRequestHeader("Authorization",custom.userToken),xhr.setRequestHeader("X-Client","1023")},success:function(res){try{if(null!=res.data){callback(res),$("#follow-signin").removeClass("hide"),selectedTopics=res.data.interest.topics,selectedAuthors=res.data.interest.authors,selectedCities=res.data.interest.cities;let authorDivid=$("#selectedAuthors"),topicDivid=$("#selectedTopics"),citiesDivid=$("#selectedCities");getSelectedText(topicDivid,res.data.interest.topics),getSelectedText(citiesDivid,res.data.interest.cities),getSelectedText(authorDivid,res.data.interest.authors),res.data.interest.topics.length>0?topicDivid.addClass("selectedTopics"):topicDivid.removeClass("selectedTopics"),res.data.interest.cities.length>0?citiesDivid.addClass("selectedTopics"):citiesDivid.removeClass("selectedTopics"),topicDivid.html(bindInterestList(res.data.interest.topics,!0)),citiesDivid.html(bindInterestList(res.data.interest.cities,!0)),authorDivid.html(bindAuthorInterestList(res.data.interest.authors,!0)),openAuthorLink(),authorFilter();let topics=allTopics,cities=allCities,authors=allAuthors;res.data.interest.topics.forEach(el=>{topics=removeInterestList(allTopics,el)}),res.data.interest.cities.forEach(el=>{cities=removeInterestList(allCities,el)}),res.data.interest.authors.forEach(el=>{authors=removeInterestList(allAuthors,el)}),$("#alltopics").html(bindInterestList(topics)),$("#allauthors").html(bindAuthorInterestList(authors)),$("#allcities").html(bindInterestList(cities)),openAuthorLink(),authorFilter(),$("#content-list").length>0?(topicKeystr=res.data.interest.topics.join().replace(/\s+/g,"-").toLowerCase(),cityKeystr=res.data.interest.cities.join().replace(/\s+/g,"-").toLowerCase(),authorKeystr=res.data.interest.authors.join().replace(/\s+/g,"-").toLowerCase(),getUserInterestStories()):$("#interest-list").removeClass("hide")}}catch{}},error:function(jqXHR,exception){$("#follow-nonsignin").removeClass("hide")}})}function getSelectedText(elm,list){let txt=$(elm).parent().find(".subTitle").text();list=list.filter(l=>null!=l),$(elm).parent().find(".subTitle").html(txt.replace(/ *\([^)]*\) */g," ("+list.length+")"))}function bindInterestList(data,isActive=!1){let dataList="",bntClass="follow-btn followbtn";return isActive&&(bntClass="follow-btn followbtn active"),data.forEach(el=>{dataList+='<input type="button" class="'+bntClass+'" value="'+el+'">'}),dataList}function bindAuthorInterestList(data=[],isActive=!1){let dataList="",bntClass="follow-btn followbtn followSM",value="Follow";return isActive&&(bntClass="follow-btn followbtn followSM active",value="Following"),(!data.includes(null)||data.length>1)&&(dataList+="<div class='authorListing follow__interest'>",data.forEach(el=>{if(null!=el){let pictureUrl="https://images.hindustantimes.com/images/app-images/2022/1/default-author.svg",authorUrl="https://hindustantimes.com/author",user=allAuthorsData[el];user&&user.slugName&&user.id&&(user.pictureUrl&&(pictureUrl=user.pictureUrl),authorUrl="https://hindustantimes.com/author/"+user.slugName+"-"+user.id),dataList+="<div class='items'>",dataList+="<div class='authorImg'>",dataList+="<a href="+authorUrl+" class='authorLink' data-name="+el.replace(" ","%20")+">",dataList+="<img src="+pictureUrl+" alt=''>",dataList+="</a>",dataList+="</div>",dataList+="<div class='authorName'>",dataList+="<h2><a href="+authorUrl+" class='authorLink' data-name="+el.replace(" ","%20")+">"+el+"</a></h2>",dataList+="<div class='socialIcon'>",dataList+='<input type="button" class="'+bntClass+'" data-type="authors" data-name="'+el+'" value="'+value+'">',dataList+="</div>",dataList+="</div>",dataList+="</div>"}}),dataList+="</div>"),dataList}function removeInterestList(list,item){let updatedList=[],index=list.indexOf(item);return-1!==index&&list.splice(index,1),updatedList=list,updatedList}$("#content-list").length>0&&$(window).on("scroll",getUserInterestStories),$(".tablinks").on("click",(function(){showFollowTabs(this,$(this).html())})),$(document).on("click",".followbtn",(function(){let parentDivid=$(this).parent().attr("id")||$(this).parent().parent().parent().parent().parent().attr("id"),isActive=$(this).hasClass("active"),item="allauthors"==parentDivid||"selectedAuthors"==parentDivid?$(this).data("name"):$(this).val(),allData,payload={user_id:clientId,interest:{topics:[],cities:[],authors:[]}},selectedData=[],selectedDiv,payloadkey;if("alltopics"==parentDivid||"selectedTopics"==parentDivid?(allData=allTopics,selectedData=selectedTopics,selectedDiv="#selectedTopics",allDiv="#alltopics",payloadkey="topics"):"allauthors"==parentDivid||"selectedAuthors"==parentDivid?(allData=allAuthors,selectedData=selectedAuthors,selectedDiv="#selectedAuthors",allDiv="#allauthors",payloadkey="authors"):"allcities"!=parentDivid&&"selectedCities"!=parentDivid||(allData=allCities,selectedData=selectedCities,selectedDiv="#selectedCities",allDiv="#allcities",payloadkey="cities"),isActive){allData.push(item),payload.interest[payloadkey].push(item),intrestPayload=payload,common.removeUserFollowData(JSON.stringify(payload),custom.userToken);let index=selectedData.indexOf(item);-1!==index&&selectedData.splice(index,1)}else{selectedData.push(item),payload.interest[payloadkey].push(item),ga("send","event","ht_site","interest_widget_click","existing_interest"),common.addUserFollowData(JSON.stringify(payload),custom.userToken);let index=allData.indexOf(item);-1!==index&&allData.splice(index,1)}getSelectedText($(selectedDiv),selectedData),"authors"==payloadkey?($(selectedDiv).html(bindAuthorInterestList(selectedData,!0)),$(allDiv).html(bindAuthorInterestList(allData)),openAuthorLink(),authorFilter()):($(selectedDiv).html(bindInterestList(selectedData,!0)),selectedData.length>0?$(selectedDiv).addClass("selectedTopics"):$(selectedDiv).removeClass("selectedTopics"),$(allDiv).html(bindInterestList(allData)))})),$(".follow-btnSearch").on("click",(function(){let inputval=$(this).prev("input").val().toLowerCase();if(""!=inputval){let divID="#"+$(this).data("name"),filter=$(this).data("filter");if(followData){let lib=library(filter);const fuse=new Fuse(lib,options),result=fuse.search(inputval);outputSearchResults(divID,result,!1)}}}))}else $("#follow-nonsignin").removeClass("hide"),$("#follow-signin").addClass("hide"),$("#not-login").removeClass("hide"),$("#interest-list").removeClass("hide"),getInterestData(getStaticData);function openAuthorLink(){$(".authorImg").each((function(i,el){let imgTag=$(el).find("img"),authorName=$(imgTag).parent().data("name");authorName=authorName.replace("%20"," ");let user=allAuthorsData[authorName];user&&user.pictureUrl&&$(imgTag).attr("src",user.pictureUrl)})),$(".authorLink").each((function(i,el){$(el).click((function(){let authorName=$(this).data("name");authorName=authorName.replace("%20"," ");let user=allAuthorsData[authorName];user&&user.slugName&&user.id&&window.open("https://hindustantimes.com/author/"+user.slugName+"-"+user.id,"_self")}))}))}function getFollowAuthorsForYou(){let bindauthorsToFollow=res=>{let topicHtml="";topicHtml+='<section class="authors-follow">',topicHtml+='<div class="htSlider latestNews">',topicHtml+=' <div class="htsWrapper">',topicHtml+='<div class="htsHeader">',topicHtml+=' <div class="hdg2">AUTHORS TO FOLLOW</div>',topicHtml+='<div class="htsArrows mHide"><a class="arrow arrow-prev disabled"></a><a class="arrow arrow-next"></a></div>',topicHtml+="</div>",topicHtml+='<ul class="hts">',res.authors.forEach((function(elm,i){i%2==0&&(topicHtml+="<li>");let pictureUrl="https://images.hindustantimes.com/images/app-images/2022/1/default-author.svg",authorUrl="https://hindustantimes.com/author",user=allAuthorsData[elm];user&&user.slugName&&user.id&&(user.pictureUrl&&(pictureUrl=user.pictureUrl),authorUrl="https://hindustantimes.com/author/"+user.slugName+"-"+user.id),topicHtml+='<div class="author-slide-follow">',topicHtml+='<div class="flex-items">',topicHtml+='<div class="authorName authorImg" data-name="'+elm+'">',topicHtml+="<a href="+authorUrl+" class='authorLink' data-name="+elm.replace(" ","%20")+">",topicHtml+="<img src="+pictureUrl+" alt=''>",topicHtml+="</a>",topicHtml+="</div>",topicHtml+="<span><a href="+authorUrl+" class='authorLink' data-name="+elm.replace(" ","%20")+">"+elm+"</a></span>",topicHtml+="</div>",topicHtml+='<input type="button" class="follow-btn followSM followbtn-user" data-type="authors" data-name="'+elm+'" value="Follow">',topicHtml+="</div>",i%2==1&&(topicHtml+="</li>")})),topicHtml+="</ul>",topicHtml+=" </div>",topicHtml+="</div>",topicHtml+="</section>",$("#fyFollowauthor").length>0&&$("#fyFollowauthor").html(topicHtml),custom.initSlider(),openAuthorLink()},getAuthorsToFollow=res=>{let clientId=common.getCookie("_ht_clientid")||"";custom.userToken&&clientId?common.getUserInterestData(clientId,custom.userToken,userAuthors=>{if(userAuthors.data){let selectedList=userAuthors.data.interest.authors;const authorsToDeleteSet=new Set(selectedList),filterAuthors={};filterAuthors.authors=res.authors.filter(author=>!authorsToDeleteSet.has(author)),bindauthorsToFollow(filterAuthors)}else bindauthorsToFollow(res)}):bindauthorsToFollow(res)};common.getInterestData(getAuthorsToFollow)}function getStaticData(res){let topicDiv="",authorDiv="",cityDiv="";res.topics.slice(0,24).forEach((function(elm,i){i%3==0&&(topicDiv+="<li>"),topicDiv+='<input type="button" data-type="topics" class="follow-btn followbtn-user mb10" value="'+elm.name+'">',i%3==2&&(topicDiv+="</li>")})),$("#static_topics").html(topicDiv),res.authors.slice(0,24).forEach((function(elm,i){i%3==0&&(authorDiv+="<li>"),authorDiv+='<input type="button" data-type="authors" class="follow-btn followbtn-user mb10" value="'+elm+'">',i%3==2&&(authorDiv+="</li>")})),$("#static_author").html(authorDiv),res.cities.slice(0,24).forEach((function(elm,i){i%3==0&&(cityDiv+="<li>"),cityDiv+='<input type="button" data-type="cities" class="follow-btn followbtn-user mb10" value="'+elm+'">',i%3==2&&(cityDiv+="</li>")})),$("#static_cities").html(cityDiv),custom.initSlider()}function getInterestData(callback=Function()){followData||$.ajax({url:"https://www.hindustantimes.com/static-content/1y/interest_v1.json",dataType:"json",type:"GET",success:function(res){followData=res,callback(res)}})}function getUserInterestStories(){$(".my-feed").css("display","flex"),(isOnLoad||$(window).scrollTop()+$(window).height()>=$(document).height()-$(window).height()&&!loaded)&&(loaded=!0,isOnLoad=!1,""!=topicKeystr||""!=cityKeystr||""!=authorKeystr?$.ajax({url:apiBaseUrl+"api/articles/follow/interest?topicKeys="+topicKeystr+"&cityKeys="+cityKeystr+"&authorKeys="+authorKeystr+"&pageSize=30&page="+page,dataType:"json",type:"GET",success:function(res){res.content.forEach((function(elm){let paramObj={type:"story"};$("#content-list").append(custom.getRightImageCard(elm,paramObj,!0)),custom.getLazyImage()})),res.content.length>0&&(loaded=!1)}}):($("#not-follow").removeClass("hide"),$("#interest-list").removeClass("hide"),getInterestData(getStaticData)),page+=1)}function onKeydown(e){let code=e.keyCode?e.keyCode:e.which,alldata=[],divID="#"+$(this).data("name");if("allauthors"==$(this).data("name")?alldata=allAuthors:"alltopics"==$(this).data("name")&&(alldata=allTopics),e.target.value){if(13==code){let filter,lib=library($(this).data("filter"));const fuse=new Fuse(lib,options),result=fuse.search(e.target.value);if("allauthors"==$(this).data("name")){let finalData=[];1==e.target.value.length?finalData=authorsData[e.target.value.toUpperCase()]:authorsData.All.forEach(element=>{element.toLowerCase().includes(e.target.value.toLowerCase())&&finalData.push(element)}),outputAuthorSearchResults(divID,finalData),openAuthorLink()}else outputSearchResults(divID,result,!1)}}else"allauthors"==$(this).data("name")?(outputAuthorSearchResults(divID,alldata),$("#"+selectedAuthorTab.toLowerCase()).click()):outputSearchResults(divID,alldata)}function outputSearchResults(id,results,showDefult=!0){let allbuttonHtml="";showDefult?results.forEach(el=>{allbuttonHtml+='<input type="button" class="follow-btn followbtn" value="'+el+'">'}):results.forEach(el=>{let name=el.item.name?el.item.name:el.item;allbuttonHtml+='<input type="button" class="follow-btn followbtn" value="'+name+'">'}),$(id).html(allbuttonHtml)}function outputAuthorSearchResults(id,results,showDefult=!0){let allbuttonHtml="";allbuttonHtml+="<div class='authorListing follow__interest'>",results.forEach(el=>{let name="";name=showDefult?el:el.item.name?el.item.name:el.item;let pictureUrl="https://images.hindustantimes.com/images/app-images/2022/1/default-author.svg",authorUrl="https://hindustantimes.com/author",user=allAuthorsData[name];user&&user.slugName&&user.id&&(user.pictureUrl&&(pictureUrl=user.pictureUrl),authorUrl="https://hindustantimes.com/author/"+user.slugName+"-"+user.id),allbuttonHtml+="<div class='items'>",allbuttonHtml+="<div class='authorImg'>",allbuttonHtml+="<a href="+authorUrl+" class='authorLink' data-name="+name.replace(" ","%20")+">",allbuttonHtml+="<img src="+pictureUrl+" alt=''>",allbuttonHtml+="</a>",allbuttonHtml+="</div>",allbuttonHtml+="<div class='authorName'>",allbuttonHtml+="<h2><a href="+authorUrl+" class='authorLink' data-name="+name.replace(" ","%20")+">"+name+"</a></h2>",allbuttonHtml+="<div class='socialIcon'>",allbuttonHtml+='<input type="button" class="follow-btn followbtn followSM" data-type="authors" data-name="'+el+'" value="Follow">',allbuttonHtml+="</div>",allbuttonHtml+="</div>",allbuttonHtml+="</div>"}),allbuttonHtml+="</div>",$(id).html(allbuttonHtml)}function library(filter){let data=[],followData=localStorage.getItem("follow");return followData&&(followData=JSON.parse(followData),data=followData[filter]),data}follow.getTopicsBySection=function(res,section){let topicLimitCount=10,allTopics=res.topics||[],clientId=common.getCookie("_ht_clientid")||"";if(custom.userToken&&clientId){function removeSelectedTopic(topicsres){try{if(null!=topicsres.data){let selectedList=topicsres.data.interest.topics;const topicsToDeleteSet=new Set(selectedList),newArr=allTopics.filter(topic=>!topicsToDeleteSet.has(topic.name));bindTrendingTopics(newArr)}}catch{}}getUserInterestData(clientId,removeSelectedTopic)}else bindTrendingTopics(allTopics);function bindTrendingTopics(topics){let filterList=topics.filter(item=>item.section.toLowerCase()===section.toLowerCase());if(filterList.length<10&&(filterList=topics),filterList.length>0){let topicsDiv="";filterList.slice(0,24).forEach((function(elm,i){topicsDiv+='<li><input type="button" data-count="'+(i+1)+'" data-page="story" data-type="topics" class="follow-btn followbtn-user mb10" value="'+elm.name+'"></li>'})),$(".trend-topic-slide").html(topicsDiv)}}},$(document).on("click",".followbtn-user",(function(){let type=$(this).data("type"),item="authors"==type?$(this).data("name"):$(this).val(),isActive=$(this).hasClass("active"),isPage=void 0!==$(this).data("page"),clientId=common.getCookie("_ht_clientid")||"";if(custom.userToken&&clientId){let payload={user_id:clientId,interest:{topics:[],cities:[],authors:[]}};payload.interest[type].push(item),isActive?(isPage&&(ga("set","dimension49","story"),ga("send","event","widget_interaction","Trending Topic widget click","Unsubscribe - "+item,""+$(this).data("count"))),common.removeUserFollowData(JSON.stringify(payload),custom.userToken),$(this).removeClass("active")):(isPage&&(ga("set","dimension49","story"),ga("send","event","widget_interaction","Trending Topic widget click","Subscribe - "+item,""+$(this).data("count"))),common.addUserFollowData(JSON.stringify(payload),custom.userToken),$(this).addClass("active")),!isPage&&window.location.pathname}else window.open("https://accounts.hindustantimes.com","_self")})),$(".finder").on("keyup",onKeydown);let onUndoHandler=function(){let selectedData=[],selectedDiv,item="",allData=[],allDiv;if($(this).parent().hide(),intrestPayload.interest.topics.length>0?(selectedData=selectedTopics,allData=allTopics,allDiv="#alltopics",selectedDiv="#selectedTopics",item=intrestPayload.interest.topics[0]):intrestPayload.interest.authors.length>0?(allData=allAuthors,allDiv="#allauthors",selectedDiv="#selectedAuthors",selectedData=selectedAuthors,item=intrestPayload.interest.authors[0]):intrestPayload.interest.cities.length>0&&(allData=allCities,allDiv="#allcities",selectedDiv="#selectedCities",selectedData=selectedCities,item=intrestPayload.interest.cities[0]),selectedData.push(item),getSelectedText($(selectedDiv),selectedData),intrestPayload.interest.authors.length>0){$(selectedDiv).html(bindAuthorInterestList(selectedData,!0)),common.addUserFollowData(JSON.stringify(intrestPayload),custom.userToken);let index=allData.indexOf(item);-1!==index&&allData.splice(index,1),$(allDiv).html(bindAuthorInterestList(allData)),authorFilter()}else{$(selectedDiv).html(bindInterestList(selectedData,!0)),selectedData.length>0?$(selectedDiv).addClass("selectedTopics"):$(selectedDiv).removeClass("selectedTopics"),common.addUserFollowData(JSON.stringify(intrestPayload),custom.userToken);let index=allData.indexOf(item);-1!==index&&allData.splice(index,1),$(allDiv).html(bindInterestList(allData))}};function authorFilter(){$("#searchByAlphabet").find("ul li").each((function(i,el){let allAuthors=$("#allauthors").find(".authorListing .items"),filteredAuthors=[],filter=$(el).find("a").text(),authors=[],authorNameList=[],allAuthorNameList=[];$(allAuthors).each((function(i,item){let element=$(item).find(".authorName").find("a");$(element).data("name").startsWith(filter)&&(authors.push(item),authorNameList.push($(element).text())),allAuthorNameList.push($(element).text())})),Object.assign(authorObject,{[filter]:authors}),"All"==filter?Object.assign(authorsData,{[filter]:allAuthorNameList}):Object.assign(authorsData,{[filter]:authorNameList}),$(el).click((function(){$("#searchByAlphabet").find("ul li a").removeClass("active"),$(el).find("a").addClass("active"),selectedAuthorTab=filter,filteredAuthors="All"!=filter?authorObject[filter]:allAuthors,$("#allauthors").find(".authorListing").html(filteredAuthors)}))})),$("#"+selectedAuthorTab.toLowerCase()).click()}function getUserDetailsToFollow(){if(custom.userToken){let selectedListTopics="",selectedListCities="",selectedListAuthors="",clientId=common.getCookie("_ht_clientid")||"";custom.userToken&&clientId?(common.getUserInterestData(clientId,custom.userToken,userData=>{userData.data&&(selectedListTopics=userData.data.interest.topics.join().replace(/\s+/g,"-").toLowerCase(),selectedListCities=userData.data.interest.cities.join().replace(/\s+/g,"-").toLowerCase(),selectedListAuthors=userData.data.interest.authors.join().replace(/\s+/g,"-").toLowerCase(),getUserInterestStoriesFY(selectedListTopics,selectedListCities,selectedListAuthors))}),$("#selectedTopicsBoxParentFy").show()):$("#selectedTopicsBoxParentFy").hide()}}function getUserInterestStoriesFY(topicKeystr,cityKeystr,authorKeystr){var url=apiBaseUrl+"api/articles/follow/interest?topicKeys="+topicKeystr+"&cityKeys="+cityKeystr+"&authorKeys="+authorKeystr+"&pageSize=30&page=1",contentHtml="";$.ajax({url:apiBaseUrl+"api/articles/follow/interest?topicKeys="+topicKeystr+"&cityKeys="+cityKeystr+"&authorKeys="+authorKeystr+"&pageSize=30&page=1",dataType:"json",type:"GET",success:function(res){contentHtml+="<div class='relatedStory2'>",contentHtml+="<div class='htSlider widget-impression-candidate'>",contentHtml+="<div class='htsWrapper'>",contentHtml+="<div class='htsHeader htImpressionTrackingTop eventFired' data-vars-backfill='' data-vars-widget-name='News From Your Interests for you' data-vars-placement-number='5'>",contentHtml+="<div class='hdg2'><a href='/personalized-content-listing'>News From Your Interests</a></div>",contentHtml+="<div class='htsArrows'><a class='arrow arrow-prev disabled'></a><a class='arrow arrow-next'></a></div>",contentHtml+="</div>",contentHtml+="<ul class='hts htImpressionTracking'>";var conter=1;res.content.forEach((function(elm){var imgsrc=elm.leadMedia.image.images["148x111"]||"";""==imgsrc&&(imgsrc=elm.leadMedia.image.images.thumbnailImage||"");var imgCaption=elm.leadMedia.image.caption.trim().replace(/'/g,"")||"";contentHtml+="<li class='track' data-vars-storyid='"+elm.id+"' data-vars-orderid='"+conter+"' data-vars-story-url='"+elm.metadata.url+"'>",conter+=1,contentHtml+="<figure><a  href='"+elm.metadata.url+"'><img data-src='"+imgsrc+"' src='https://images.hindustantimes.com/default/550x309.jpg' class='lazy' alt='"+imgCaption+"' title='"+imgCaption+"'>",contentHtml+="</a></figure>",contentHtml+="<p><a  href='"+elm.metadata.url+"'>"+elm.mobileHeadline+"</a></p>",contentHtml+="</li>"})),contentHtml+="</ul>",contentHtml+="</div>",contentHtml+="</div>",contentHtml+="</div>",$("#selectedTopicsBoxFy").empty(),$("#selectedTopicsBoxFy").html(contentHtml),custom.getLazyImage(),custom.initSlider()}})}return $(document).on("click","#undo-follow",onUndoHandler),authorFilter(),follow.getInterestData=getInterestData,follow.openAuthorLink=openAuthorLink,follow.getFollowAuthorsForYou=getFollowAuthorsForYou,follow.getUserDetailsToFollow=getUserDetailsToFollow,follow}));